{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function () {\n  var ownKeys = function (o) {\n    ownKeys = Object.getOwnPropertyNames || function (o) {\n      var ar = [];\n      for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n      return ar;\n    };\n    return ownKeys(o);\n  };\n  return function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n    __setModuleDefault(result, mod);\n    return result;\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Operation = void 0;\nexports.operation = operation;\nconst events_1 = require(\"events\");\nconst status_1 = require(\"../status\");\nconst googleError_1 = require(\"../googleError\");\nconst operationProtos = __importStar(require(\"../../protos/operations\"));\nclass Operation extends events_1.EventEmitter {\n  completeListeners;\n  hasActiveListeners;\n  latestResponse;\n  longrunningDescriptor;\n  result;\n  metadata;\n  backoffSettings;\n  _callOptions;\n  currentCallPromise_;\n  name;\n  done;\n  error;\n  response;\n  /**\n   * Wrapper for a google.longrunnung.Operation.\n   *\n   * @constructor\n   *\n   * @param {google.longrunning.Operation} grpcOp - The operation to be wrapped.\n   * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n   * operations service client and unpacking mechanisms for the operation.\n   * @param {BackoffSettings} backoffSettings - The backoff settings used in\n   * in polling the operation.\n   * @param {CallOptions} callOptions - CallOptions used in making get operation\n   * requests.\n   */\n  constructor(grpcOp, longrunningDescriptor, backoffSettings, callOptions) {\n    super();\n    this.completeListeners = 0;\n    this.hasActiveListeners = false;\n    this.latestResponse = grpcOp;\n    this.name = this.latestResponse.name;\n    this.done = this.latestResponse.done;\n    this.error = this.latestResponse.error;\n    this.longrunningDescriptor = longrunningDescriptor;\n    this.result = null;\n    this.metadata = null;\n    this.backoffSettings = backoffSettings;\n    this._unpackResponse(grpcOp);\n    this._listenForEvents();\n    this._callOptions = callOptions;\n  }\n  /**\n   * Begin listening for events on the operation. This method keeps track of how\n   * many \"complete\" listeners are registered and removed, making sure polling\n   * is handled automatically.\n   *\n   * As long as there is one active \"complete\" listener, the connection is open.\n   * When there are no more listeners, the polling stops.\n   *\n   * @private\n   */\n  _listenForEvents() {\n    this.on('newListener', event => {\n      if (event === 'complete') {\n        this.completeListeners++;\n        if (!this.hasActiveListeners) {\n          this.hasActiveListeners = true;\n          this.startPolling_();\n        }\n      }\n    });\n    this.on('removeListener', event => {\n      if (event === 'complete' && --this.completeListeners === 0) {\n        this.hasActiveListeners = false;\n      }\n    });\n  }\n  /**\n   * Cancels current polling api call and cancels the operation.\n   *\n   * @return {Promise} the promise of the OperationsClient#cancelOperation api\n   * request.\n   */\n  cancel() {\n    if (this.currentCallPromise_) {\n      this.currentCallPromise_.cancel();\n    }\n    const operationsClient = this.longrunningDescriptor.operationsClient;\n    const cancelRequest = new operationProtos.google.longrunning.CancelOperationRequest();\n    cancelRequest.name = this.latestResponse.name;\n    return operationsClient.cancelOperation(cancelRequest);\n  }\n  getOperation(callback) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const operationsClient = this.longrunningDescriptor.operationsClient;\n    function promisifyResponse() {\n      if (!callback) {\n        return new Promise((resolve, reject) => {\n          if (self.latestResponse.error) {\n            const error = new googleError_1.GoogleError(self.latestResponse.error.message);\n            error.code = self.latestResponse.error.code;\n            reject(error);\n          } else {\n            resolve([self.result, self.metadata, self.latestResponse]);\n          }\n        });\n      }\n      return;\n    }\n    if (this.latestResponse.done) {\n      this._unpackResponse(this.latestResponse, callback);\n      return promisifyResponse();\n    }\n    const request = new operationProtos.google.longrunning.GetOperationRequest();\n    request.name = this.latestResponse.name;\n    this.currentCallPromise_ = operationsClient.getOperationInternal(request, this._callOptions);\n    const noCallbackPromise = this.currentCallPromise_.then(responses => {\n      self.latestResponse = responses[0];\n      self._unpackResponse(responses[0], callback);\n      return promisifyResponse();\n    }, err => {\n      if (callback) {\n        callback(err);\n        return;\n      }\n      return Promise.reject(err);\n    });\n    if (!callback) {\n      return noCallbackPromise;\n    }\n  }\n  _unpackResponse(op, callback) {\n    const responseDecoder = this.longrunningDescriptor.responseDecoder;\n    const metadataDecoder = this.longrunningDescriptor.metadataDecoder;\n    let response;\n    let metadata;\n    if (op.done) {\n      if (op.result === 'error') {\n        const error = new googleError_1.GoogleError(op.error.message);\n        error.code = op.error.code;\n        this.error = error;\n        if (callback) {\n          callback(error);\n        }\n        return;\n      }\n      if (responseDecoder && op.response) {\n        this.response = op.response;\n        response = responseDecoder(op.response.value);\n        this.result = response;\n        this.done = true;\n      }\n    }\n    if (metadataDecoder && op.metadata) {\n      metadata = metadataDecoder(op.metadata.value);\n      this.metadata = metadata;\n    }\n    if (callback) {\n      callback(null, response, metadata, op);\n    }\n  }\n  /**\n   * Poll `getOperation` to check the operation's status. This runs a loop to\n   * ping using the backoff strategy specified at initialization.\n   *\n   * Note: This method is automatically called once a \"complete\" event handler\n   * is registered on the operation.\n   *\n   * @private\n   */\n  startPolling_() {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    let now = new Date();\n    const delayMult = this.backoffSettings.retryDelayMultiplier;\n    const maxDelay = this.backoffSettings.maxRetryDelayMillis;\n    let delay = this.backoffSettings.initialRetryDelayMillis;\n    let deadline = Infinity;\n    if (this.backoffSettings.totalTimeoutMillis) {\n      deadline = now.getTime() + this.backoffSettings.totalTimeoutMillis;\n    }\n    let previousMetadataBytes;\n    if (this.latestResponse.metadata) {\n      previousMetadataBytes = this.latestResponse.metadata.value;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    function emit(event, ...args) {\n      self.emit(event, ...args);\n    }\n    // Helper function to replace nodejs buffer's equals()\n    function arrayEquals(a, b) {\n      if (a.byteLength !== b.byteLength) {\n        return false;\n      }\n      for (let i = 0; i < a.byteLength; ++i) {\n        if (a[i] !== b[i]) return false;\n      }\n      return true;\n    }\n    function retry() {\n      if (!self.hasActiveListeners) {\n        return;\n      }\n      if (now.getTime() >= deadline) {\n        const error = new googleError_1.GoogleError('Total timeout exceeded before any response was received');\n        error.code = status_1.Status.DEADLINE_EXCEEDED;\n        setImmediate(emit, 'error', error);\n        return;\n      }\n      self.getOperation((err, result, metadata, rawResponse) => {\n        if (err) {\n          setImmediate(emit, 'error', err);\n          return;\n        }\n        if (!result) {\n          if (rawResponse.metadata && (!previousMetadataBytes || rawResponse && !arrayEquals(rawResponse.metadata.value, previousMetadataBytes))) {\n            setImmediate(emit, 'progress', metadata, rawResponse);\n            previousMetadataBytes = rawResponse.metadata.value;\n          }\n          // special case: some APIs fail to set either result or error\n          // but set done = true (e.g. speech with silent file).\n          // Some APIs just use this for the normal completion\n          // (e.g. nodejs-contact-center-insights), so let's just return\n          // an empty response in this case.\n          if (rawResponse.done) {\n            setImmediate(emit, 'complete', {}, metadata, rawResponse);\n            return;\n          }\n          setTimeout(() => {\n            now = new Date();\n            delay = Math.min(delay * delayMult, maxDelay);\n            retry();\n          }, delay);\n          return;\n        }\n        setImmediate(emit, 'complete', result, metadata, rawResponse);\n      });\n    }\n    retry();\n  }\n  /**\n   * Wraps the `complete` and `error` events in a Promise.\n   *\n   * @return {promise} - Promise that resolves on operation completion and rejects\n   * on operation error.\n   */\n  promise() {\n    return new Promise((resolve, reject) => {\n      this.on('error', reject).on('complete', (result, metadata, rawResponse) => {\n        resolve([result, metadata, rawResponse]);\n      });\n    });\n  }\n}\nexports.Operation = Operation;\n/**\n * Method used to create Operation objects.\n *\n * @constructor\n *\n * @param {google.longrunning.Operation} op - The operation to be wrapped.\n * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n * operations service client and unpacking mechanisms for the operation.\n * @param {BackoffSettings} backoffSettings - The backoff settings used in\n * in polling the operation.\n * @param {CallOptions=} callOptions - CallOptions used in making get operation\n * requests.\n */\nfunction operation(op, longrunningDescriptor, backoffSettings, callOptions) {\n  return new Operation(op, longrunningDescriptor, backoffSettings, callOptions);\n}","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","ownKeys","getOwnPropertyNames","ar","prototype","hasOwnProperty","call","length","mod","result","i","exports","Operation","operation","events_1","require","status_1","googleError_1","operationProtos","EventEmitter","completeListeners","hasActiveListeners","latestResponse","longrunningDescriptor","metadata","backoffSettings","_callOptions","currentCallPromise_","name","done","error","response","constructor","grpcOp","callOptions","_unpackResponse","_listenForEvents","on","event","startPolling_","cancel","operationsClient","cancelRequest","google","longrunning","CancelOperationRequest","cancelOperation","getOperation","callback","self","promisifyResponse","Promise","resolve","reject","GoogleError","message","code","request","GetOperationRequest","getOperationInternal","noCallbackPromise","then","responses","err","op","responseDecoder","metadataDecoder","now","Date","delayMult","retryDelayMultiplier","maxDelay","maxRetryDelayMillis","delay","initialRetryDelayMillis","deadline","Infinity","totalTimeoutMillis","getTime","previousMetadataBytes","emit","args","arrayEquals","a","b","byteLength","retry","Status","DEADLINE_EXCEEDED","setImmediate","rawResponse","setTimeout","Math","min","promise"],"sources":["C:/Users/BIT/chatboot/node_modules/google-gax/build/src/longRunningCalls/longrunning.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Operation = void 0;\nexports.operation = operation;\nconst events_1 = require(\"events\");\nconst status_1 = require(\"../status\");\nconst googleError_1 = require(\"../googleError\");\nconst operationProtos = __importStar(require(\"../../protos/operations\"));\nclass Operation extends events_1.EventEmitter {\n    completeListeners;\n    hasActiveListeners;\n    latestResponse;\n    longrunningDescriptor;\n    result;\n    metadata;\n    backoffSettings;\n    _callOptions;\n    currentCallPromise_;\n    name;\n    done;\n    error;\n    response;\n    /**\n     * Wrapper for a google.longrunnung.Operation.\n     *\n     * @constructor\n     *\n     * @param {google.longrunning.Operation} grpcOp - The operation to be wrapped.\n     * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n     * operations service client and unpacking mechanisms for the operation.\n     * @param {BackoffSettings} backoffSettings - The backoff settings used in\n     * in polling the operation.\n     * @param {CallOptions} callOptions - CallOptions used in making get operation\n     * requests.\n     */\n    constructor(grpcOp, longrunningDescriptor, backoffSettings, callOptions) {\n        super();\n        this.completeListeners = 0;\n        this.hasActiveListeners = false;\n        this.latestResponse = grpcOp;\n        this.name = this.latestResponse.name;\n        this.done = this.latestResponse.done;\n        this.error = this.latestResponse.error;\n        this.longrunningDescriptor = longrunningDescriptor;\n        this.result = null;\n        this.metadata = null;\n        this.backoffSettings = backoffSettings;\n        this._unpackResponse(grpcOp);\n        this._listenForEvents();\n        this._callOptions = callOptions;\n    }\n    /**\n     * Begin listening for events on the operation. This method keeps track of how\n     * many \"complete\" listeners are registered and removed, making sure polling\n     * is handled automatically.\n     *\n     * As long as there is one active \"complete\" listener, the connection is open.\n     * When there are no more listeners, the polling stops.\n     *\n     * @private\n     */\n    _listenForEvents() {\n        this.on('newListener', event => {\n            if (event === 'complete') {\n                this.completeListeners++;\n                if (!this.hasActiveListeners) {\n                    this.hasActiveListeners = true;\n                    this.startPolling_();\n                }\n            }\n        });\n        this.on('removeListener', event => {\n            if (event === 'complete' && --this.completeListeners === 0) {\n                this.hasActiveListeners = false;\n            }\n        });\n    }\n    /**\n     * Cancels current polling api call and cancels the operation.\n     *\n     * @return {Promise} the promise of the OperationsClient#cancelOperation api\n     * request.\n     */\n    cancel() {\n        if (this.currentCallPromise_) {\n            this.currentCallPromise_.cancel();\n        }\n        const operationsClient = this.longrunningDescriptor.operationsClient;\n        const cancelRequest = new operationProtos.google.longrunning.CancelOperationRequest();\n        cancelRequest.name = this.latestResponse.name;\n        return operationsClient.cancelOperation(cancelRequest);\n    }\n    getOperation(callback) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        const operationsClient = this.longrunningDescriptor.operationsClient;\n        function promisifyResponse() {\n            if (!callback) {\n                return new Promise((resolve, reject) => {\n                    if (self.latestResponse.error) {\n                        const error = new googleError_1.GoogleError(self.latestResponse.error.message);\n                        error.code = self.latestResponse.error.code;\n                        reject(error);\n                    }\n                    else {\n                        resolve([self.result, self.metadata, self.latestResponse]);\n                    }\n                });\n            }\n            return;\n        }\n        if (this.latestResponse.done) {\n            this._unpackResponse(this.latestResponse, callback);\n            return promisifyResponse();\n        }\n        const request = new operationProtos.google.longrunning.GetOperationRequest();\n        request.name = this.latestResponse.name;\n        this.currentCallPromise_ = operationsClient.getOperationInternal(request, this._callOptions);\n        const noCallbackPromise = this.currentCallPromise_.then(responses => {\n            self.latestResponse = responses[0];\n            self._unpackResponse(responses[0], callback);\n            return promisifyResponse();\n        }, (err) => {\n            if (callback) {\n                callback(err);\n                return;\n            }\n            return Promise.reject(err);\n        });\n        if (!callback) {\n            return noCallbackPromise;\n        }\n    }\n    _unpackResponse(op, callback) {\n        const responseDecoder = this.longrunningDescriptor.responseDecoder;\n        const metadataDecoder = this.longrunningDescriptor.metadataDecoder;\n        let response;\n        let metadata;\n        if (op.done) {\n            if (op.result === 'error') {\n                const error = new googleError_1.GoogleError(op.error.message);\n                error.code = op.error.code;\n                this.error = error;\n                if (callback) {\n                    callback(error);\n                }\n                return;\n            }\n            if (responseDecoder && op.response) {\n                this.response = op.response;\n                response = responseDecoder(op.response.value);\n                this.result = response;\n                this.done = true;\n            }\n        }\n        if (metadataDecoder && op.metadata) {\n            metadata = metadataDecoder(op.metadata.value);\n            this.metadata = metadata;\n        }\n        if (callback) {\n            callback(null, response, metadata, op);\n        }\n    }\n    /**\n     * Poll `getOperation` to check the operation's status. This runs a loop to\n     * ping using the backoff strategy specified at initialization.\n     *\n     * Note: This method is automatically called once a \"complete\" event handler\n     * is registered on the operation.\n     *\n     * @private\n     */\n    startPolling_() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        let now = new Date();\n        const delayMult = this.backoffSettings.retryDelayMultiplier;\n        const maxDelay = this.backoffSettings.maxRetryDelayMillis;\n        let delay = this.backoffSettings.initialRetryDelayMillis;\n        let deadline = Infinity;\n        if (this.backoffSettings.totalTimeoutMillis) {\n            deadline = now.getTime() + this.backoffSettings.totalTimeoutMillis;\n        }\n        let previousMetadataBytes;\n        if (this.latestResponse.metadata) {\n            previousMetadataBytes = this.latestResponse.metadata.value;\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        function emit(event, ...args) {\n            self.emit(event, ...args);\n        }\n        // Helper function to replace nodejs buffer's equals()\n        function arrayEquals(a, b) {\n            if (a.byteLength !== b.byteLength) {\n                return false;\n            }\n            for (let i = 0; i < a.byteLength; ++i) {\n                if (a[i] !== b[i])\n                    return false;\n            }\n            return true;\n        }\n        function retry() {\n            if (!self.hasActiveListeners) {\n                return;\n            }\n            if (now.getTime() >= deadline) {\n                const error = new googleError_1.GoogleError('Total timeout exceeded before any response was received');\n                error.code = status_1.Status.DEADLINE_EXCEEDED;\n                setImmediate(emit, 'error', error);\n                return;\n            }\n            self.getOperation((err, result, metadata, rawResponse) => {\n                if (err) {\n                    setImmediate(emit, 'error', err);\n                    return;\n                }\n                if (!result) {\n                    if (rawResponse.metadata &&\n                        (!previousMetadataBytes ||\n                            (rawResponse &&\n                                !arrayEquals(rawResponse.metadata.value, previousMetadataBytes)))) {\n                        setImmediate(emit, 'progress', metadata, rawResponse);\n                        previousMetadataBytes = rawResponse.metadata.value;\n                    }\n                    // special case: some APIs fail to set either result or error\n                    // but set done = true (e.g. speech with silent file).\n                    // Some APIs just use this for the normal completion\n                    // (e.g. nodejs-contact-center-insights), so let's just return\n                    // an empty response in this case.\n                    if (rawResponse.done) {\n                        setImmediate(emit, 'complete', {}, metadata, rawResponse);\n                        return;\n                    }\n                    setTimeout(() => {\n                        now = new Date();\n                        delay = Math.min(delay * delayMult, maxDelay);\n                        retry();\n                    }, delay);\n                    return;\n                }\n                setImmediate(emit, 'complete', result, metadata, rawResponse);\n            });\n        }\n        retry();\n    }\n    /**\n     * Wraps the `complete` and `error` events in a Promise.\n     *\n     * @return {promise} - Promise that resolves on operation completion and rejects\n     * on operation error.\n     */\n    promise() {\n        return new Promise((resolve, reject) => {\n            this.on('error', reject).on('complete', (result, metadata, rawResponse) => {\n                resolve([result, metadata, rawResponse]);\n            });\n        });\n    }\n}\nexports.Operation = Operation;\n/**\n * Method used to create Operation objects.\n *\n * @constructor\n *\n * @param {google.longrunning.Operation} op - The operation to be wrapped.\n * @param {LongRunningDescriptor} longrunningDescriptor - This defines the\n * operations service client and unpacking mechanisms for the operation.\n * @param {BackoffSettings} backoffSettings - The backoff settings used in\n * in polling the operation.\n * @param {CallOptions=} callOptions - CallOptions used in making get operation\n * requests.\n */\nfunction operation(op, longrunningDescriptor, backoffSettings, callOptions) {\n    return new Operation(op, longrunningDescriptor, backoffSettings, callOptions);\n}\n//# sourceMappingURL=longrunning.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}