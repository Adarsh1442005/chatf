{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function () {\n  var ownKeys = function (o) {\n    ownKeys = Object.getOwnPropertyNames || function (o) {\n      var ar = [];\n      for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n      return ar;\n    };\n    return ownKeys(o);\n  };\n  return function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n    __setModuleDefault(result, mod);\n    return result;\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeRequest = encodeRequest;\nexports.decodeResponse = decodeResponse;\n// proto-over-HTTP request encoding and decoding\nconst serializer = __importStar(require(\"proto3-json-serializer\"));\nconst fallback_1 = require(\"./fallback\");\nconst googleError_1 = require(\"./googleError\");\nconst transcoding_1 = require(\"./transcoding\");\nfunction encodeRequest(rpc, protocol, servicePath, servicePort, request, numericEnums, minifyJson) {\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  const message = rpc.resolvedRequestType.fromObject(request);\n  const json = serializer.toProto3JSON(message, {\n    numericEnums\n  });\n  if (!json) {\n    throw new Error(`Cannot send null request to RPC ${rpc.name}.`);\n  }\n  if (typeof json !== 'object' || Array.isArray(json)) {\n    throw new Error(`Request to RPC ${rpc.name} must be an object.`);\n  }\n  const transcoded = (0, transcoding_1.transcode)(json, rpc.parsedOptions);\n  if (!transcoded) {\n    throw new Error(`Cannot build HTTP request for ${JSON.stringify(json)}, method: ${rpc.name}`);\n  }\n  // If numeric enums feature is requested, add extra parameter to the query string\n  if (numericEnums) {\n    transcoded.queryString = (transcoded.queryString ? `${transcoded.queryString}&` : '') + '$alt=json%3Benum-encoding=int';\n  }\n  // If minifyJson feature is requested, disable pretty-print JSON responses\n  if (minifyJson) {\n    transcoded.queryString = (transcoded.queryString ? `${transcoded.queryString}&` : '') + '$prettyPrint=0';\n  }\n  // Converts httpMethod to method that permitted in standard Fetch API spec\n  // https://fetch.spec.whatwg.org/#methods\n  const method = transcoded.httpMethod.toUpperCase();\n  const body = JSON.stringify(transcoded.data);\n  const url = `${protocol}://${servicePath}:${servicePort}/${transcoded.url.replace(/^\\//, '')}?${transcoded.queryString}`;\n  return {\n    method,\n    url,\n    headers,\n    body\n  };\n}\nfunction decodeResponse(rpc, ok, response) {\n  // eslint-disable-next-line n/no-unsupported-features/node-builtins\n  const decodedString = new TextDecoder().decode(response);\n  if (!decodedString) {\n    throw new Error(`Received null response from RPC ${rpc.name}`);\n  }\n  const json = JSON.parse(decodedString);\n  if (!ok) {\n    const error = googleError_1.GoogleError.parseHttpError(json);\n    throw error;\n  }\n  const message = serializer.fromProto3JSON(rpc.resolvedResponseType, json);\n  if (!message) {\n    throw new Error(`Received null or malformed response from JSON serializer from RPC ${rpc.name}`);\n  }\n  return rpc.resolvedResponseType.toObject(message, fallback_1.defaultToObjectOptions);\n}","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","ownKeys","getOwnPropertyNames","ar","prototype","hasOwnProperty","call","length","mod","result","i","exports","encodeRequest","decodeResponse","serializer","require","fallback_1","googleError_1","transcoding_1","rpc","protocol","servicePath","servicePort","request","numericEnums","minifyJson","headers","message","resolvedRequestType","fromObject","json","toProto3JSON","Error","name","Array","isArray","transcoded","transcode","parsedOptions","JSON","stringify","queryString","method","httpMethod","toUpperCase","body","data","url","replace","ok","response","decodedString","TextDecoder","decode","parse","error","GoogleError","parseHttpError","fromProto3JSON","resolvedResponseType","toObject","defaultToObjectOptions"],"sources":["C:/Users/BIT/chatboot/node_modules/google-gax/build/src/fallbackRest.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encodeRequest = encodeRequest;\nexports.decodeResponse = decodeResponse;\n// proto-over-HTTP request encoding and decoding\nconst serializer = __importStar(require(\"proto3-json-serializer\"));\nconst fallback_1 = require(\"./fallback\");\nconst googleError_1 = require(\"./googleError\");\nconst transcoding_1 = require(\"./transcoding\");\nfunction encodeRequest(rpc, protocol, servicePath, servicePort, request, numericEnums, minifyJson) {\n    const headers = {\n        'Content-Type': 'application/json',\n    };\n    const message = rpc.resolvedRequestType.fromObject(request);\n    const json = serializer.toProto3JSON(message, {\n        numericEnums,\n    });\n    if (!json) {\n        throw new Error(`Cannot send null request to RPC ${rpc.name}.`);\n    }\n    if (typeof json !== 'object' || Array.isArray(json)) {\n        throw new Error(`Request to RPC ${rpc.name} must be an object.`);\n    }\n    const transcoded = (0, transcoding_1.transcode)(json, rpc.parsedOptions);\n    if (!transcoded) {\n        throw new Error(`Cannot build HTTP request for ${JSON.stringify(json)}, method: ${rpc.name}`);\n    }\n    // If numeric enums feature is requested, add extra parameter to the query string\n    if (numericEnums) {\n        transcoded.queryString =\n            (transcoded.queryString ? `${transcoded.queryString}&` : '') +\n                '$alt=json%3Benum-encoding=int';\n    }\n    // If minifyJson feature is requested, disable pretty-print JSON responses\n    if (minifyJson) {\n        transcoded.queryString =\n            (transcoded.queryString ? `${transcoded.queryString}&` : '') +\n                '$prettyPrint=0';\n    }\n    // Converts httpMethod to method that permitted in standard Fetch API spec\n    // https://fetch.spec.whatwg.org/#methods\n    const method = transcoded.httpMethod.toUpperCase();\n    const body = JSON.stringify(transcoded.data);\n    const url = `${protocol}://${servicePath}:${servicePort}/${transcoded.url.replace(/^\\//, '')}?${transcoded.queryString}`;\n    return {\n        method,\n        url,\n        headers,\n        body,\n    };\n}\nfunction decodeResponse(rpc, ok, response) {\n    // eslint-disable-next-line n/no-unsupported-features/node-builtins\n    const decodedString = new TextDecoder().decode(response);\n    if (!decodedString) {\n        throw new Error(`Received null response from RPC ${rpc.name}`);\n    }\n    const json = JSON.parse(decodedString);\n    if (!ok) {\n        const error = googleError_1.GoogleError.parseHttpError(json);\n        throw error;\n    }\n    const message = serializer.fromProto3JSON(rpc.resolvedResponseType, json);\n    if (!message) {\n        throw new Error(`Received null or malformed response from JSON serializer from RPC ${rpc.name}`);\n    }\n    return rpc.resolvedResponseType.toObject(message, fallback_1.defaultToObjectOptions);\n}\n//# sourceMappingURL=fallbackRest.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}