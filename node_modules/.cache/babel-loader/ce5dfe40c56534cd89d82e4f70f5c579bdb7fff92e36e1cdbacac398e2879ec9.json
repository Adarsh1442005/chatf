{"ast":null,"code":"\"use strict\";\n\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function () {\n  var ownKeys = function (o) {\n    ownKeys = Object.getOwnPropertyNames || function (o) {\n      var ar = [];\n      for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n      return ar;\n    };\n    return ownKeys(o);\n  };\n  return function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n    __setModuleDefault(result, mod);\n    return result;\n  };\n}();\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fallback = exports.GoogleError = exports.operation = exports.Operation = exports.warn = exports.protobufMinimal = exports.protobuf = exports.LocationProtos = exports.IamProtos = exports.operationsProtos = exports.GrpcClient = exports.defaultToObjectOptions = exports.makeUUID = exports.LocationsClient = exports.IamClient = exports.OperationsClient = exports.StreamType = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = exports.BundleDescriptor = exports.version = exports.createDefaultBackoffSettings = exports.RetryOptions = exports.constructSettings = exports.CallSettings = exports.routingHeader = exports.PathTemplate = void 0;\nexports.lro = lro;\nexports.createApiCall = createApiCall;\nconst object_hash_1 = __importDefault(require(\"object-hash\"));\nconst protobuf = __importStar(require(\"protobufjs\"));\nexports.protobuf = protobuf;\nconst gax = __importStar(require(\"./gax\"));\nconst routingHeader = __importStar(require(\"./routingHeader\"));\nexports.routingHeader = routingHeader;\nconst status_1 = require(\"./status\");\nconst google_auth_library_1 = require(\"google-auth-library\");\nconst operationsClient_1 = require(\"./operationsClient\");\nconst createApiCall_1 = require(\"./createApiCall\");\nconst fallbackRest = __importStar(require(\"./fallbackRest\"));\nconst featureDetection_1 = require(\"./featureDetection\");\nconst fallbackServiceStub_1 = require(\"./fallbackServiceStub\");\nconst streaming_1 = require(\"./streamingCalls/streaming\");\nconst util_1 = require(\"./util\");\nconst IamProtos = __importStar(require(\"../protos/iam_service\"));\nexports.IamProtos = IamProtos;\nconst LocationProtos = __importStar(require(\"../protos/locations\"));\nexports.LocationProtos = LocationProtos;\nconst operationsProtos = __importStar(require(\"../protos/operations\"));\nexports.operationsProtos = operationsProtos;\nvar pathTemplate_1 = require(\"./pathTemplate\");\nObject.defineProperty(exports, \"PathTemplate\", {\n  enumerable: true,\n  get: function () {\n    return pathTemplate_1.PathTemplate;\n  }\n});\nvar gax_1 = require(\"./gax\");\nObject.defineProperty(exports, \"CallSettings\", {\n  enumerable: true,\n  get: function () {\n    return gax_1.CallSettings;\n  }\n});\nObject.defineProperty(exports, \"constructSettings\", {\n  enumerable: true,\n  get: function () {\n    return gax_1.constructSettings;\n  }\n});\nObject.defineProperty(exports, \"RetryOptions\", {\n  enumerable: true,\n  get: function () {\n    return gax_1.RetryOptions;\n  }\n});\nObject.defineProperty(exports, \"createDefaultBackoffSettings\", {\n  enumerable: true,\n  get: function () {\n    return gax_1.createDefaultBackoffSettings;\n  }\n});\nexports.version = require('../../package.json').version + '-fallback';\nvar descriptor_1 = require(\"./descriptor\");\nObject.defineProperty(exports, \"BundleDescriptor\", {\n  enumerable: true,\n  get: function () {\n    return descriptor_1.BundleDescriptor;\n  }\n});\nObject.defineProperty(exports, \"LongrunningDescriptor\", {\n  enumerable: true,\n  get: function () {\n    return descriptor_1.LongrunningDescriptor;\n  }\n});\nObject.defineProperty(exports, \"PageDescriptor\", {\n  enumerable: true,\n  get: function () {\n    return descriptor_1.PageDescriptor;\n  }\n});\nObject.defineProperty(exports, \"StreamDescriptor\", {\n  enumerable: true,\n  get: function () {\n    return descriptor_1.StreamDescriptor;\n  }\n});\nvar streaming_2 = require(\"./streamingCalls/streaming\");\nObject.defineProperty(exports, \"StreamType\", {\n  enumerable: true,\n  get: function () {\n    return streaming_2.StreamType;\n  }\n});\nvar operationsClient_2 = require(\"./operationsClient\");\nObject.defineProperty(exports, \"OperationsClient\", {\n  enumerable: true,\n  get: function () {\n    return operationsClient_2.OperationsClient;\n  }\n});\nvar iamService_1 = require(\"./iamService\");\nObject.defineProperty(exports, \"IamClient\", {\n  enumerable: true,\n  get: function () {\n    return iamService_1.IamClient;\n  }\n});\nvar locationService_1 = require(\"./locationService\");\nObject.defineProperty(exports, \"LocationsClient\", {\n  enumerable: true,\n  get: function () {\n    return locationService_1.LocationsClient;\n  }\n});\nvar util_2 = require(\"./util\");\nObject.defineProperty(exports, \"makeUUID\", {\n  enumerable: true,\n  get: function () {\n    return util_2.makeUUID;\n  }\n});\nexports.defaultToObjectOptions = {\n  keepCase: false,\n  longs: String,\n  enums: String,\n  defaults: true,\n  oneofs: true\n};\nconst CLIENT_VERSION_HEADER = 'x-goog-api-client';\nclass GrpcClient {\n  auth;\n  /**\n   * @deprecated use {@link GrpcClient.auth} instead\n   */\n  authClient;\n  fallback;\n  grpcVersion;\n  static protoCache = new Map();\n  httpRules;\n  numericEnums;\n  minifyJson;\n  /**\n   * In rare cases users might need to deallocate all memory consumed by loaded protos.\n   * This method will delete the proto cache content.\n   */\n  static clearProtoCache() {\n    GrpcClient.protoCache.clear();\n  }\n  /**\n   * gRPC-fallback version of GrpcClient\n   * Implements GrpcClient API for a browser using grpc-fallback protocol (sends serialized protobuf to HTTP/1 $rpc endpoint).\n   *\n   * @param options {@link GrpcClientOptions}\n   */\n  constructor(options = {}) {\n    if (options.auth) {\n      this.auth = options.auth;\n    } else if ('authClient' in options) {\n      this.auth = options.authClient;\n    } else {\n      this.auth = new google_auth_library_1.GoogleAuth({\n        authClient: options.auth,\n        ...options\n      });\n    }\n    this.fallback = options.fallback ? true : false;\n    this.grpcVersion = require('../../package.json').version;\n    this.httpRules = options.httpRules;\n    this.numericEnums = options.numericEnums ?? false;\n    this.minifyJson = options.minifyJson ?? false;\n  }\n  /**\n   * gRPC-fallback version of loadProto\n   * Loads the protobuf root object from a JSON object created from a proto file\n   * @param {Object} jsonObject - A JSON version of a protofile created usin protobuf.js\n   * @returns {Object} Root namespace of proto JSON\n   */\n  loadProto(jsonObject) {\n    const rootObject = protobuf.Root.fromJSON(jsonObject);\n    return rootObject;\n  }\n  loadProtoJSON(json, ignoreCache = false) {\n    const hash = (0, object_hash_1.default)(JSON.stringify(json)).toString();\n    const cached = GrpcClient.protoCache.get(hash);\n    if (cached && !ignoreCache) {\n      return cached;\n    }\n    const root = protobuf.Root.fromJSON(json);\n    GrpcClient.protoCache.set(hash, root);\n    return root;\n  }\n  static getServiceMethods(service) {\n    const methods = {};\n    for (const [methodName, methodObject] of Object.entries(service.methods)) {\n      const methodNameLowerCamelCase = (0, util_1.toLowerCamelCase)(methodName);\n      methods[methodNameLowerCamelCase] = methodObject;\n    }\n    return methods;\n  }\n  /**\n   * gRPC-fallback version of constructSettings\n   * A wrapper of {@link constructSettings} function under the gRPC context.\n   *\n   * Most of parameters are common among constructSettings, please take a look.\n   * @param {string} serviceName - The fullly-qualified name of the service.\n   * @param {Object} clientConfig - A dictionary of the client config.\n   * @param {Object} configOverrides - A dictionary of overriding configs.\n   * @param {Object} headers - A dictionary of additional HTTP header name to\n   *   its value.\n   * @return {Object} A mapping of method names to CallSettings.\n   */\n  constructSettings(serviceName, clientConfig, configOverrides, headers) {\n    function buildMetadata(abTests, moreHeaders) {\n      const metadata = {};\n      if (!headers) {\n        headers = {};\n      }\n      // Since gRPC expects each header to be an array,\n      // we are doing the same for fallback here.\n      for (const key in headers) {\n        metadata[key] = Array.isArray(headers[key]) ? headers[key] : [headers[key]];\n      }\n      // gRPC-fallback request must have 'grpc-web/' in 'x-goog-api-client'\n      const clientVersions = [];\n      if (metadata[CLIENT_VERSION_HEADER] && metadata[CLIENT_VERSION_HEADER][0]) {\n        clientVersions.push(...metadata[CLIENT_VERSION_HEADER][0].split(' '));\n      }\n      clientVersions.push(`grpc-web/${exports.version}`);\n      metadata[CLIENT_VERSION_HEADER] = [clientVersions.join(' ')];\n      if (!moreHeaders) {\n        return metadata;\n      }\n      for (const key in moreHeaders) {\n        if (key.toLowerCase() !== CLIENT_VERSION_HEADER) {\n          const value = moreHeaders[key];\n          if (Array.isArray(value)) {\n            if (metadata[key] === undefined) {\n              metadata[key] = value;\n            } else {\n              if (Array.isArray(metadata[key])) {\n                metadata[key].push(...value);\n              } else {\n                throw new Error(`Can not add value ${value} to the call metadata.`);\n              }\n            }\n          } else {\n            metadata[key] = [value];\n          }\n        }\n      }\n      return metadata;\n    }\n    return gax.constructSettings(serviceName, clientConfig, configOverrides, status_1.Status, {\n      metadataBuilder: buildMetadata\n    });\n  }\n  /**\n   * gRPC-fallback version of createStub\n   * Creates a gRPC-fallback stub with authentication headers built from supplied `AuthClient` instance\n   *\n   * @param {function} CreateStub - The constructor function of the stub.\n   * @param {Object} service - A protobufjs Service object (as returned by lookupService)\n   * @param {Object} opts - Connection options, as described below.\n   * @param {string} opts.servicePath - The hostname of the API endpoint service.\n   * @param {number} opts.port - The port of the service.\n   * @return {Promise} A promise which resolves to a gRPC-fallback service stub, which is a protobuf.js service stub instance modified to match the gRPC stub API\n   */\n  async createStub(service, opts,\n  // For consistency with createStub in grpc.ts, customServicePath is defined:\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  customServicePath) {\n    if (!this.authClient) {\n      if (this.auth && 'getClient' in this.auth) {\n        this.authClient = await this.auth.getClient();\n      } else if (this.auth && 'getRequestHeaders' in this.auth) {\n        this.authClient = this.auth;\n      }\n    }\n    if (!this.authClient) {\n      throw new Error('No authentication was provided');\n    }\n    if (!opts.universeDomain) {\n      opts.universeDomain = 'googleapis.com';\n    }\n    if (opts.universeDomain) {\n      const universeFromAuth = this.authClient.universeDomain;\n      if (universeFromAuth && opts.universeDomain !== universeFromAuth) {\n        throw new Error(`The configured universe domain (${opts.universeDomain}) does not match the universe domain found in the credentials (${universeFromAuth}). ` + \"If you haven't configured the universe domain explicitly, googleapis.com is the default.\");\n      }\n    }\n    service.resolveAll();\n    const methods = GrpcClient.getServiceMethods(service);\n    const protocol = opts.protocol || 'https';\n    let servicePath = opts.servicePath;\n    if (!servicePath && service.options && service.options['(google.api.default_host)']) {\n      servicePath = service.options['(google.api.default_host)'];\n    }\n    if (!servicePath) {\n      throw new Error(`Cannot determine service API path for service ${service.name}.`);\n    }\n    let servicePort;\n    const match = servicePath.match(/^(.*):(\\d+)$/);\n    if (match) {\n      servicePath = match[1];\n      servicePort = parseInt(match[2]);\n    }\n    if (opts.port) {\n      servicePort = opts.port;\n    } else if (!servicePort) {\n      servicePort = 443;\n    }\n    const encoder = fallbackRest.encodeRequest;\n    const decoder = fallbackRest.decodeResponse;\n    const serviceStub = (0, fallbackServiceStub_1.generateServiceStub)(methods, protocol, servicePath, servicePort, this.auth || this.authClient, encoder, decoder, this.numericEnums, this.minifyJson);\n    return serviceStub;\n  }\n  /**\n   * Creates a 'bytelength' function for a given proto message class.\n   *\n   * See {@link BundleDescriptor} about the meaning of the return value.\n   *\n   * @param {function} message - a constructor function that is generated by\n   *   protobuf.js. Assumes 'encoder' field in the message.\n   * @return {function(Object):number} - a function to compute the byte length\n   *   for an object.\n   */\n  static createByteLengthFunction(message) {\n    return gax.createByteLengthFunction(message);\n  }\n}\nexports.GrpcClient = GrpcClient;\n/**\n * gRPC-fallback version of lro\n *\n * @param {Object=} options.auth - An instance of google-auth-library.\n * @return {Object} A OperationsClientBuilder that will return a OperationsClient\n */\nfunction lro(options) {\n  options = Object.assign({\n    scopes: []\n  }, options);\n  if (options.protoJson) {\n    options = Object.assign(options, {\n      fallback: true\n    });\n  }\n  const gaxGrpc = new GrpcClient(options);\n  return new operationsClient_1.OperationsClientBuilder(gaxGrpc, options.protoJson);\n}\n/**\n * gRPC-fallback version of createApiCall\n *\n * Converts an rpc call into an API call governed by the settings.\n *\n * In typical usage, `func` will be a promise to a callable used to make an rpc\n * request. This will mostly likely be a bound method from a request stub used\n * to make an rpc call. It is not a direct function but a Promise instance,\n * because of its asynchronism (typically, obtaining the auth information).\n *\n * The result is a function which manages the API call with the given settings\n * and the options on the invocation.\n *\n * Throws exception on unsupported streaming calls\n *\n * @param {Promise<GRPCCall>|GRPCCall} func - is either a promise to be used to make\n *   a bare RPC call, or just a bare RPC call.\n * @param {CallSettings} settings - provides the settings for this call\n * @param {Descriptor} descriptor - optionally specify the descriptor for\n *   the method call.\n * @return {GaxCall} func - a bound method on a request stub used\n *   to make an rpc call.\n */\nfunction createApiCall(func, settings, descriptor,\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n_fallback) {\n  if (descriptor && 'streaming' in descriptor && descriptor.type !== streaming_1.StreamType.SERVER_STREAMING) {\n    return () => {\n      throw new Error('The REST transport currently does not support client-streaming or bidi-stream calls.');\n    };\n  }\n  if (descriptor && 'streaming' in descriptor && !(0, featureDetection_1.isNodeJS)()) {\n    // TODO: with `fetch` this functionality is available in the browser...\n    return () => {\n      throw new Error('Server streaming over the REST transport is only supported in Node.js.');\n    };\n  }\n  return (0, createApiCall_1.createApiCall)(func, settings, descriptor);\n}\nexports.protobufMinimal = __importStar(require(\"protobufjs/minimal\"));\nvar warnings_1 = require(\"./warnings\");\nObject.defineProperty(exports, \"warn\", {\n  enumerable: true,\n  get: function () {\n    return warnings_1.warn;\n  }\n});\nvar longrunning_1 = require(\"./longRunningCalls/longrunning\");\nObject.defineProperty(exports, \"Operation\", {\n  enumerable: true,\n  get: function () {\n    return longrunning_1.Operation;\n  }\n});\nObject.defineProperty(exports, \"operation\", {\n  enumerable: true,\n  get: function () {\n    return longrunning_1.operation;\n  }\n});\nvar googleError_1 = require(\"./googleError\");\nObject.defineProperty(exports, \"GoogleError\", {\n  enumerable: true,\n  get: function () {\n    return googleError_1.GoogleError;\n  }\n});\n// Different environments or bundlers may or may not respect \"browser\" field\n// in package.json (e.g. Electron does not respect it, but if you run the code\n// through webpack first, it will follow the \"browser\" field).\n// To make it safer and more compatible, let's make sure that if you do\n// const gax = require(\"google-gax\");\n// you can always ask for gax.fallback, regardless of \"browser\" field being\n// understood or not.\nconst fallback = module.exports;\nexports.fallback = fallback;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","ownKeys","getOwnPropertyNames","ar","prototype","hasOwnProperty","call","length","mod","result","i","__importDefault","exports","fallback","GoogleError","operation","Operation","warn","protobufMinimal","protobuf","LocationProtos","IamProtos","operationsProtos","GrpcClient","defaultToObjectOptions","makeUUID","LocationsClient","IamClient","OperationsClient","StreamType","StreamDescriptor","PageDescriptor","LongrunningDescriptor","BundleDescriptor","version","createDefaultBackoffSettings","RetryOptions","constructSettings","CallSettings","routingHeader","PathTemplate","lro","createApiCall","object_hash_1","require","gax","status_1","google_auth_library_1","operationsClient_1","createApiCall_1","fallbackRest","featureDetection_1","fallbackServiceStub_1","streaming_1","util_1","pathTemplate_1","gax_1","descriptor_1","streaming_2","operationsClient_2","iamService_1","locationService_1","util_2","keepCase","longs","String","enums","defaults","oneofs","CLIENT_VERSION_HEADER","auth","authClient","grpcVersion","protoCache","Map","httpRules","numericEnums","minifyJson","clearProtoCache","clear","constructor","options","GoogleAuth","loadProto","jsonObject","rootObject","Root","fromJSON","loadProtoJSON","json","ignoreCache","hash","default","JSON","stringify","toString","cached","root","set","getServiceMethods","service","methods","methodName","methodObject","entries","methodNameLowerCamelCase","toLowerCamelCase","serviceName","clientConfig","configOverrides","headers","buildMetadata","abTests","moreHeaders","metadata","key","Array","isArray","clientVersions","push","split","join","toLowerCase","Error","Status","metadataBuilder","createStub","opts","customServicePath","getClient","universeDomain","universeFromAuth","resolveAll","protocol","servicePath","name","servicePort","match","parseInt","port","encoder","encodeRequest","decoder","decodeResponse","serviceStub","generateServiceStub","createByteLengthFunction","message","assign","scopes","protoJson","gaxGrpc","OperationsClientBuilder","func","settings","descriptor","_fallback","type","SERVER_STREAMING","isNodeJS","warnings_1","longrunning_1","googleError_1","module"],"sources":["C:/Users/BIT/chatboot/node_modules/google-gax/build/src/fallback.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fallback = exports.GoogleError = exports.operation = exports.Operation = exports.warn = exports.protobufMinimal = exports.protobuf = exports.LocationProtos = exports.IamProtos = exports.operationsProtos = exports.GrpcClient = exports.defaultToObjectOptions = exports.makeUUID = exports.LocationsClient = exports.IamClient = exports.OperationsClient = exports.StreamType = exports.StreamDescriptor = exports.PageDescriptor = exports.LongrunningDescriptor = exports.BundleDescriptor = exports.version = exports.createDefaultBackoffSettings = exports.RetryOptions = exports.constructSettings = exports.CallSettings = exports.routingHeader = exports.PathTemplate = void 0;\nexports.lro = lro;\nexports.createApiCall = createApiCall;\nconst object_hash_1 = __importDefault(require(\"object-hash\"));\nconst protobuf = __importStar(require(\"protobufjs\"));\nexports.protobuf = protobuf;\nconst gax = __importStar(require(\"./gax\"));\nconst routingHeader = __importStar(require(\"./routingHeader\"));\nexports.routingHeader = routingHeader;\nconst status_1 = require(\"./status\");\nconst google_auth_library_1 = require(\"google-auth-library\");\nconst operationsClient_1 = require(\"./operationsClient\");\nconst createApiCall_1 = require(\"./createApiCall\");\nconst fallbackRest = __importStar(require(\"./fallbackRest\"));\nconst featureDetection_1 = require(\"./featureDetection\");\nconst fallbackServiceStub_1 = require(\"./fallbackServiceStub\");\nconst streaming_1 = require(\"./streamingCalls/streaming\");\nconst util_1 = require(\"./util\");\nconst IamProtos = __importStar(require(\"../protos/iam_service\"));\nexports.IamProtos = IamProtos;\nconst LocationProtos = __importStar(require(\"../protos/locations\"));\nexports.LocationProtos = LocationProtos;\nconst operationsProtos = __importStar(require(\"../protos/operations\"));\nexports.operationsProtos = operationsProtos;\nvar pathTemplate_1 = require(\"./pathTemplate\");\nObject.defineProperty(exports, \"PathTemplate\", { enumerable: true, get: function () { return pathTemplate_1.PathTemplate; } });\nvar gax_1 = require(\"./gax\");\nObject.defineProperty(exports, \"CallSettings\", { enumerable: true, get: function () { return gax_1.CallSettings; } });\nObject.defineProperty(exports, \"constructSettings\", { enumerable: true, get: function () { return gax_1.constructSettings; } });\nObject.defineProperty(exports, \"RetryOptions\", { enumerable: true, get: function () { return gax_1.RetryOptions; } });\nObject.defineProperty(exports, \"createDefaultBackoffSettings\", { enumerable: true, get: function () { return gax_1.createDefaultBackoffSettings; } });\nexports.version = require('../../package.json').version + '-fallback';\nvar descriptor_1 = require(\"./descriptor\");\nObject.defineProperty(exports, \"BundleDescriptor\", { enumerable: true, get: function () { return descriptor_1.BundleDescriptor; } });\nObject.defineProperty(exports, \"LongrunningDescriptor\", { enumerable: true, get: function () { return descriptor_1.LongrunningDescriptor; } });\nObject.defineProperty(exports, \"PageDescriptor\", { enumerable: true, get: function () { return descriptor_1.PageDescriptor; } });\nObject.defineProperty(exports, \"StreamDescriptor\", { enumerable: true, get: function () { return descriptor_1.StreamDescriptor; } });\nvar streaming_2 = require(\"./streamingCalls/streaming\");\nObject.defineProperty(exports, \"StreamType\", { enumerable: true, get: function () { return streaming_2.StreamType; } });\nvar operationsClient_2 = require(\"./operationsClient\");\nObject.defineProperty(exports, \"OperationsClient\", { enumerable: true, get: function () { return operationsClient_2.OperationsClient; } });\nvar iamService_1 = require(\"./iamService\");\nObject.defineProperty(exports, \"IamClient\", { enumerable: true, get: function () { return iamService_1.IamClient; } });\nvar locationService_1 = require(\"./locationService\");\nObject.defineProperty(exports, \"LocationsClient\", { enumerable: true, get: function () { return locationService_1.LocationsClient; } });\nvar util_2 = require(\"./util\");\nObject.defineProperty(exports, \"makeUUID\", { enumerable: true, get: function () { return util_2.makeUUID; } });\nexports.defaultToObjectOptions = {\n    keepCase: false,\n    longs: String,\n    enums: String,\n    defaults: true,\n    oneofs: true,\n};\nconst CLIENT_VERSION_HEADER = 'x-goog-api-client';\nclass GrpcClient {\n    auth;\n    /**\n     * @deprecated use {@link GrpcClient.auth} instead\n     */\n    authClient;\n    fallback;\n    grpcVersion;\n    static protoCache = new Map();\n    httpRules;\n    numericEnums;\n    minifyJson;\n    /**\n     * In rare cases users might need to deallocate all memory consumed by loaded protos.\n     * This method will delete the proto cache content.\n     */\n    static clearProtoCache() {\n        GrpcClient.protoCache.clear();\n    }\n    /**\n     * gRPC-fallback version of GrpcClient\n     * Implements GrpcClient API for a browser using grpc-fallback protocol (sends serialized protobuf to HTTP/1 $rpc endpoint).\n     *\n     * @param options {@link GrpcClientOptions}\n     */\n    constructor(options = {}) {\n        if (options.auth) {\n            this.auth = options.auth;\n        }\n        else if ('authClient' in options) {\n            this.auth = options.authClient;\n        }\n        else {\n            this.auth = new google_auth_library_1.GoogleAuth({\n                authClient: options.auth,\n                ...options,\n            });\n        }\n        this.fallback = options.fallback ? true : false;\n        this.grpcVersion = require('../../package.json').version;\n        this.httpRules = options.httpRules;\n        this.numericEnums = options.numericEnums ?? false;\n        this.minifyJson = options.minifyJson ?? false;\n    }\n    /**\n     * gRPC-fallback version of loadProto\n     * Loads the protobuf root object from a JSON object created from a proto file\n     * @param {Object} jsonObject - A JSON version of a protofile created usin protobuf.js\n     * @returns {Object} Root namespace of proto JSON\n     */\n    loadProto(jsonObject) {\n        const rootObject = protobuf.Root.fromJSON(jsonObject);\n        return rootObject;\n    }\n    loadProtoJSON(json, ignoreCache = false) {\n        const hash = (0, object_hash_1.default)(JSON.stringify(json)).toString();\n        const cached = GrpcClient.protoCache.get(hash);\n        if (cached && !ignoreCache) {\n            return cached;\n        }\n        const root = protobuf.Root.fromJSON(json);\n        GrpcClient.protoCache.set(hash, root);\n        return root;\n    }\n    static getServiceMethods(service) {\n        const methods = {};\n        for (const [methodName, methodObject] of Object.entries(service.methods)) {\n            const methodNameLowerCamelCase = (0, util_1.toLowerCamelCase)(methodName);\n            methods[methodNameLowerCamelCase] = methodObject;\n        }\n        return methods;\n    }\n    /**\n     * gRPC-fallback version of constructSettings\n     * A wrapper of {@link constructSettings} function under the gRPC context.\n     *\n     * Most of parameters are common among constructSettings, please take a look.\n     * @param {string} serviceName - The fullly-qualified name of the service.\n     * @param {Object} clientConfig - A dictionary of the client config.\n     * @param {Object} configOverrides - A dictionary of overriding configs.\n     * @param {Object} headers - A dictionary of additional HTTP header name to\n     *   its value.\n     * @return {Object} A mapping of method names to CallSettings.\n     */\n    constructSettings(serviceName, clientConfig, configOverrides, headers) {\n        function buildMetadata(abTests, moreHeaders) {\n            const metadata = {};\n            if (!headers) {\n                headers = {};\n            }\n            // Since gRPC expects each header to be an array,\n            // we are doing the same for fallback here.\n            for (const key in headers) {\n                metadata[key] = Array.isArray(headers[key])\n                    ? headers[key]\n                    : [headers[key]];\n            }\n            // gRPC-fallback request must have 'grpc-web/' in 'x-goog-api-client'\n            const clientVersions = [];\n            if (metadata[CLIENT_VERSION_HEADER] &&\n                metadata[CLIENT_VERSION_HEADER][0]) {\n                clientVersions.push(...metadata[CLIENT_VERSION_HEADER][0].split(' '));\n            }\n            clientVersions.push(`grpc-web/${exports.version}`);\n            metadata[CLIENT_VERSION_HEADER] = [clientVersions.join(' ')];\n            if (!moreHeaders) {\n                return metadata;\n            }\n            for (const key in moreHeaders) {\n                if (key.toLowerCase() !== CLIENT_VERSION_HEADER) {\n                    const value = moreHeaders[key];\n                    if (Array.isArray(value)) {\n                        if (metadata[key] === undefined) {\n                            metadata[key] = value;\n                        }\n                        else {\n                            if (Array.isArray(metadata[key])) {\n                                metadata[key].push(...value);\n                            }\n                            else {\n                                throw new Error(`Can not add value ${value} to the call metadata.`);\n                            }\n                        }\n                    }\n                    else {\n                        metadata[key] = [value];\n                    }\n                }\n            }\n            return metadata;\n        }\n        return gax.constructSettings(serviceName, clientConfig, configOverrides, status_1.Status, { metadataBuilder: buildMetadata });\n    }\n    /**\n     * gRPC-fallback version of createStub\n     * Creates a gRPC-fallback stub with authentication headers built from supplied `AuthClient` instance\n     *\n     * @param {function} CreateStub - The constructor function of the stub.\n     * @param {Object} service - A protobufjs Service object (as returned by lookupService)\n     * @param {Object} opts - Connection options, as described below.\n     * @param {string} opts.servicePath - The hostname of the API endpoint service.\n     * @param {number} opts.port - The port of the service.\n     * @return {Promise} A promise which resolves to a gRPC-fallback service stub, which is a protobuf.js service stub instance modified to match the gRPC stub API\n     */\n    async createStub(service, opts, \n    // For consistency with createStub in grpc.ts, customServicePath is defined:\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    customServicePath) {\n        if (!this.authClient) {\n            if (this.auth && 'getClient' in this.auth) {\n                this.authClient = await this.auth.getClient();\n            }\n            else if (this.auth && 'getRequestHeaders' in this.auth) {\n                this.authClient = this.auth;\n            }\n        }\n        if (!this.authClient) {\n            throw new Error('No authentication was provided');\n        }\n        if (!opts.universeDomain) {\n            opts.universeDomain = 'googleapis.com';\n        }\n        if (opts.universeDomain) {\n            const universeFromAuth = this.authClient.universeDomain;\n            if (universeFromAuth && opts.universeDomain !== universeFromAuth) {\n                throw new Error(`The configured universe domain (${opts.universeDomain}) does not match the universe domain found in the credentials (${universeFromAuth}). ` +\n                    \"If you haven't configured the universe domain explicitly, googleapis.com is the default.\");\n            }\n        }\n        service.resolveAll();\n        const methods = GrpcClient.getServiceMethods(service);\n        const protocol = opts.protocol || 'https';\n        let servicePath = opts.servicePath;\n        if (!servicePath &&\n            service.options &&\n            service.options['(google.api.default_host)']) {\n            servicePath = service.options['(google.api.default_host)'];\n        }\n        if (!servicePath) {\n            throw new Error(`Cannot determine service API path for service ${service.name}.`);\n        }\n        let servicePort;\n        const match = servicePath.match(/^(.*):(\\d+)$/);\n        if (match) {\n            servicePath = match[1];\n            servicePort = parseInt(match[2]);\n        }\n        if (opts.port) {\n            servicePort = opts.port;\n        }\n        else if (!servicePort) {\n            servicePort = 443;\n        }\n        const encoder = fallbackRest.encodeRequest;\n        const decoder = fallbackRest.decodeResponse;\n        const serviceStub = (0, fallbackServiceStub_1.generateServiceStub)(methods, protocol, servicePath, servicePort, this.auth || this.authClient, encoder, decoder, this.numericEnums, this.minifyJson);\n        return serviceStub;\n    }\n    /**\n     * Creates a 'bytelength' function for a given proto message class.\n     *\n     * See {@link BundleDescriptor} about the meaning of the return value.\n     *\n     * @param {function} message - a constructor function that is generated by\n     *   protobuf.js. Assumes 'encoder' field in the message.\n     * @return {function(Object):number} - a function to compute the byte length\n     *   for an object.\n     */\n    static createByteLengthFunction(message) {\n        return gax.createByteLengthFunction(message);\n    }\n}\nexports.GrpcClient = GrpcClient;\n/**\n * gRPC-fallback version of lro\n *\n * @param {Object=} options.auth - An instance of google-auth-library.\n * @return {Object} A OperationsClientBuilder that will return a OperationsClient\n */\nfunction lro(options) {\n    options = Object.assign({ scopes: [] }, options);\n    if (options.protoJson) {\n        options = Object.assign(options, { fallback: true });\n    }\n    const gaxGrpc = new GrpcClient(options);\n    return new operationsClient_1.OperationsClientBuilder(gaxGrpc, options.protoJson);\n}\n/**\n * gRPC-fallback version of createApiCall\n *\n * Converts an rpc call into an API call governed by the settings.\n *\n * In typical usage, `func` will be a promise to a callable used to make an rpc\n * request. This will mostly likely be a bound method from a request stub used\n * to make an rpc call. It is not a direct function but a Promise instance,\n * because of its asynchronism (typically, obtaining the auth information).\n *\n * The result is a function which manages the API call with the given settings\n * and the options on the invocation.\n *\n * Throws exception on unsupported streaming calls\n *\n * @param {Promise<GRPCCall>|GRPCCall} func - is either a promise to be used to make\n *   a bare RPC call, or just a bare RPC call.\n * @param {CallSettings} settings - provides the settings for this call\n * @param {Descriptor} descriptor - optionally specify the descriptor for\n *   the method call.\n * @return {GaxCall} func - a bound method on a request stub used\n *   to make an rpc call.\n */\nfunction createApiCall(func, settings, descriptor, \n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n_fallback) {\n    if (descriptor &&\n        'streaming' in descriptor &&\n        descriptor.type !== streaming_1.StreamType.SERVER_STREAMING) {\n        return () => {\n            throw new Error('The REST transport currently does not support client-streaming or bidi-stream calls.');\n        };\n    }\n    if (descriptor && 'streaming' in descriptor && !(0, featureDetection_1.isNodeJS)()) {\n        // TODO: with `fetch` this functionality is available in the browser...\n        return () => {\n            throw new Error('Server streaming over the REST transport is only supported in Node.js.');\n        };\n    }\n    return (0, createApiCall_1.createApiCall)(func, settings, descriptor);\n}\nexports.protobufMinimal = __importStar(require(\"protobufjs/minimal\"));\nvar warnings_1 = require(\"./warnings\");\nObject.defineProperty(exports, \"warn\", { enumerable: true, get: function () { return warnings_1.warn; } });\nvar longrunning_1 = require(\"./longRunningCalls/longrunning\");\nObject.defineProperty(exports, \"Operation\", { enumerable: true, get: function () { return longrunning_1.Operation; } });\nObject.defineProperty(exports, \"operation\", { enumerable: true, get: function () { return longrunning_1.operation; } });\nvar googleError_1 = require(\"./googleError\");\nObject.defineProperty(exports, \"GoogleError\", { enumerable: true, get: function () { return googleError_1.GoogleError; } });\n// Different environments or bundlers may or may not respect \"browser\" field\n// in package.json (e.g. Electron does not respect it, but if you run the code\n// through webpack first, it will follow the \"browser\" field).\n// To make it safer and more compatible, let's make sure that if you do\n// const gax = require(\"google-gax\");\n// you can always ask for gax.fallback, regardless of \"browser\" field being\n// understood or not.\nconst fallback = module.exports;\nexports.fallback = fallback;\n//# sourceMappingURL=fallback.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}